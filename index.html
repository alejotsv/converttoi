<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Change to I</title>
</head>
<body>
<div class="phrase">
  Phrase: <input id="thePhrase" type="text" placeholder="Insert your phrase"><br>
  <button id="submit" onclick="changeToI()">Change it to I</button>
</div>

<div class="result">
<div id="final"></div>
<div id="hiddenText"></div>
</div>

<script>
let input = document.getElementById("thePhrase");
let button = document.getElementById("submit");
input.addEventListener("keyup", (event) => {
  if (event.keyCode === 13){
    event.preventDefault;
    button.click();
  }
});


function changeToI() {
 
  let x = document.getElementById("thePhrase").value;
  let final;
  let xLength = x.length;
  
  if(xLength>0){
    let y = x.replace(/[aeou]/g, "i");    
    let a = y.replace(/[AEOU]/g, "I");    
    let b = a.replace(/[ÁÉÓÚ]/g, "Í");    
    finalPhrase = b.replace(/[áéóú]/g, "í");    
    final = '<strong><span id="finalPhrase">' + finalPhrase + '</span></strong><button class="btn" onClick="copyButton()"><i class="fa fa-copy"></i></button>'
  } else {
    final = '<strong><span class="addPhrase">Add a phrase to convert.</span></strong>'
  }

  document.getElementById("final").innerHTML = final;  
}

function copyButton(){
  let input = document.createElement("INPUT");
  input.setAttribute("type", "text");
  input.setAttribute("id", "toCopy");
  input.setAttribute("value", finalPhrase);
  let hidden = document.getElementById("hiddenText");
  hidden.appendChild(input);
  let phrase = document.getElementById("toCopy");
  phrase.select();
  document.execCommand("copy");
  hidden.removeChild(hidden.childNodes[0]);
}
</script>

  
</body>
</html>